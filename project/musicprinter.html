<!DOCTYPE html>
<html lang="en">
<head>
    
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="description" content="Yeuk Yu Lee's personal website and portfolio." />
  <meta name="keywords" content="" />
  <meta name="author" content="Yeuk Yu Lee" />
  
  <!-- JQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css" integrity="sha384-AysaV+vQoT3kOAXZkl02PThvDr8HYKPZhNT5h/CXfBThSRXQ6jW5DO2ekP5ViFdi" crossorigin="anonymous">
    
  <!-- Style Sheet -->
  <link rel="stylesheet" href="../main.css">
  <link rel="stylesheet" href="../css/page.css">
  <link rel="stylesheet" href="../css/template.css">
    
  <!-- Favicon -->
  <link rel="icon" 
      type="image/png" 
      href="../Images/Projects/favicon.png">

  <title>Yeuk Yu Lee | Project </title>
    
</head>
<body>
    <div class="project-content-center-container">
        <div class="project-content-alt">
            <h1 class="page-header">
                Music Printer
            </h1>
            <h3 class="project-subheader">
                An Arduino Hack
            </h3>
            <hr class="section-break">
            <p class="project-paragraph">
                <strong>Context: </strong> I dreamed up this idea one day: <i>what if I can build a portable printer that can continuously spit out music sheet as I play on the piano keyboard?</i> With this printer, I can then quickly play some melody and have the score be ready for me to revisit anytime, not to mention the satisfying sight to see printer printing out one note at a time, listening for commands at my fingertips.</p>
            

            <p class="project-paragraph">I was hooked by this idea — I liked it so much that I decided to do it as a term project for my micro-controller class. This had just been three months since I started learning hardware, but so far Arduino had made it very easy for me to quickly build a hardware toy. With a leap of faith, I decided to move on with this idea.</p>
            
            <iframe width="560" height="315" src="https://www.youtube.com/embed/yeQi-s0GgDw" frameborder="0" allowfullscreen></iframe>
            
            <hr class="section-break">
            <p class="project-paragraph">
                <strong>Process: </strong> After shopping for the parts on Adafruit, I waited for a week for all the parts to arrive, and that foretold the biggest problem I would encounter — the lack of replacement. When developing software, if I find myself missing something components, I can always run a brew or npm install. But in hardware, a defective part and a hard deadline can definitely make the world blow up.</p>
            
            <p class="project-paragraph">The thermal receipt printer was very, very, very hard to work with. The printer works by firing dots on the receipt paper to darken certain region. I tested the printer by printing out sample ascii characters. There were two main issues that I noticed:</p>
            
            <p class="project-paragraph">First, the printer prints nowhere near fast enough. By the time I finish playing a note, the printer hasn’t even finish half of the printing. The inability of keeping the speed up will be a huge usability issue.</p>
            
            <p class="project-paragraph">Second, the printer works by , but as I was just testing the printer, I noticed that the print was very light. No matter how I adjust the hardware setting, it only goes to certain darkness, which was inconsistent as well.</p>
            
            <p class="project-paragraph">For the first problem, I fixed it by hacking the hardware. I opened the printer and soldered in a new port, recommended by this article. It was a bit of a risky move, since no one guarantee it was a reliable recommendation, and soldering was not my strong suite. But luckily it worked like a charm, and I quickly move on to the second problem.</p>
            
            <p class="project-paragraph">The second problem took me a to figure out. In order to print the music notes, I had to convert every type of notes into a bitmap, so that the Arduino program can process and successfully print it. If I try to print a straight horizontal line, it would start to print weird gibberish of ascii characters. I brought into Scott’s (my professor) office, and he sat with me for good 40 minutes, checking my code and made sure the wiring was right, but nothing could came out of it. I later realized that this happen every time when I try to print a very wide image or line. The dots that fired by the thermal printer were simply not enough to darken the wide region at a time, and the overloading data causes the printer to print ascii characters. It was a hardware issue that I was not able to bypass.</p>
            
            
            <p class="project-paragraph">For the first problem, I fixed it by hacking the hardware. I opened the printer and soldered in a new port, recommended by this article. It was a bit of a risky move, since no one guarantee it was a reliable recommendation, and soldering was not my strong suite. But luckily it worked like a charm, and I quickly move on to the second problem.</p>
            
            <p class="project-paragraph">I remedied that issue by rotating the music score that I was printing out to vertical one. Then it solved the problem of inconsistent darkness of print.</p>
            
            <p class="project-paragraph">As for the music score sheet, the original idea was to have a bitmap of five lines, and the micro-controller would use an & operation to overlay the bitmap of music notes on top of it. But it was simply too costly for the Arduino to handle the bitmap manipulation, and so the solution to that was to store bitmap of all notes into the Arduino, and load according to the played note. This was something I was trying to fix if I was given more time, but unfortunately not by the time that it was demoed.</p>
            
            <hr class="section-break">
            
            <p class="project-paragraph">
                <strong>Outcome:</strong> When I presented my project to the class, I could see all the heads in the rooms were honing in, waiting to see if a hit on the keyboard is going to cause the printer to print a note. With my sweaty hand, I played a half broken tone of “Mary had a little lamb.” The sound of the firing dots echoed in the room, and the printer was busy doing its job. At the end of the tone, the printer printed a concluding bar, and the score on the receipt paper was a perfect reflection of what I played. The class glanced at it with pure amazement.</p>
            
            <p class="project-paragraph">The project was peer graded, and I came first in this graduate class with this Music Printer. There was no word that can describe how I felt.</p>
            
        </div>
    </div>
</body> 
</html>

